<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Lua_api.html">
<link rel="next" href="Lua_aux_lib.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Lua_api" rel="Chapter" href="Lua_api.html">
<link title="Lua_api_lib" rel="Chapter" href="Lua_api_lib.html">
<link title="Lua_aux_lib" rel="Chapter" href="Lua_aux_lib.html"><link title="Difference with the original Lua API" rel="Section" href="#2_DifferencewiththeoriginalLuaAPI">
<link title="Difference with the original Lua API" rel="Section" href="#2_DifferencewiththeoriginalLuaAPI">
<link title="Difference with the original Lua API" rel="Section" href="#2_DifferencewiththeoriginalLuaAPI">
<link title="Types definitions" rel="Section" href="#2_Typesdefinitions">
<link title="Constant values" rel="Section" href="#2_Constantvalues">
<link title="Exceptions" rel="Section" href="#2_Exceptions">
<link title="Functions not present in the Lua API" rel="Section" href="#2_FunctionsnotpresentintheLuaAPI">
<link title="Lua API functions" rel="Section" href="#2_LuaAPIfunctions">
<title>Lua_api_lib</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Lua_api.html" title="Lua_api">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Lua_aux_lib.html" title="Lua_aux_lib">Next</a>
</div>
<h1>Module <a href="type_Lua_api_lib.html">Lua_api_lib</a></h1>

<pre><span class="keyword">module</span> Lua_api_lib: <code class="code">sig</code> <a href="Lua_api_lib.html">..</a> <code class="code">end</code></pre><div class="info module top">
<h1 id="1_TheLuaApplicationProgramInterfaceOCamlbinding">The Lua Application Program Interface (OCaml binding)</h1><br>
</div>
<hr width="100%">
<br>
<h2 id="2_DifferencewiththeoriginalLuaAPI">Difference with the original Lua API</h2><br>
<br>
<h2 id="2_DifferencewiththeoriginalLuaAPI">Difference with the original Lua API</h2><br>
<br>
Here is a list of functions of which you should read documentation:<ul>
<li><b>Missing functions</b>: <code class="code">lua_close</code>, <code class="code">lua_getallocf</code>, <code class="code">lua_newstate</code>
(see below <a href="#VALload">here</a>), <code class="code">lua_pushcclosure</code> (see below <a href="#VALpushboolean">here</a>),
<code class="code">lua_setallocf</code>, <code class="code">lua_topointer</code>.</li>
<li><b>Notably different functions</b>: <a href="Lua_api_lib.html#VALnewuserdata"><code class="code">Lua_api_lib.newuserdata</code></a>, <a href="Lua_api_lib.html#VALpushfstring"><code class="code">Lua_api_lib.pushfstring</code></a>, <a href="Lua_api_lib.html#VALpushlightuserdata"><code class="code">Lua_api_lib.pushlightuserdata</code></a>,
<a href="Lua_api_lib.html#VALtouserdata"><code class="code">Lua_api_lib.touserdata</code></a></li>
<li><b>Special remarks</b>: <a href="Lua_api_lib.html#VALcpcall"><code class="code">Lua_api_lib.cpcall</code></a>, <a href="Lua_api_lib.html#VALnewthread"><code class="code">Lua_api_lib.newthread</code></a>, <a href="Lua_api_lib.html#VALdefault_gc"><code class="code">Lua_api_lib.default_gc</code></a>, <a href="Lua_api_lib.html#VALmake_gc_function"><code class="code">Lua_api_lib.make_gc_function</code></a>.
<a href="Lua_api_lib.html#VALtolstring"><code class="code">Lua_api_lib.tolstring</code></a></li>
</ul>
<br>
<br>
<h2 id="2_DifferencewiththeoriginalLuaAPI">Difference with the original Lua API</h2><br>
<br>
Here is a list of functions of which you should read documentation:<ul>
<li><b>Missing functions</b>: <code class="code">lua_close</code>, <code class="code">lua_getallocf</code>, <code class="code">lua_newstate</code>
(see below <a href="#VALload">here</a>), <code class="code">lua_pushcclosure</code> (see below <a href="#VALpushboolean">here</a>),
<code class="code">lua_setallocf</code>, <code class="code">lua_topointer</code>.</li>
<li><b>Notably different functions</b>: <a href="Lua_api_lib.html#VALnewuserdata"><code class="code">Lua_api_lib.newuserdata</code></a>, <a href="Lua_api_lib.html#VALpushfstring"><code class="code">Lua_api_lib.pushfstring</code></a>, <a href="Lua_api_lib.html#VALpushlightuserdata"><code class="code">Lua_api_lib.pushlightuserdata</code></a>,
<a href="Lua_api_lib.html#VALtouserdata"><code class="code">Lua_api_lib.touserdata</code></a></li>
<li><b>Special remarks</b>: <a href="Lua_api_lib.html#VALcpcall"><code class="code">Lua_api_lib.cpcall</code></a>, <a href="Lua_api_lib.html#VALnewthread"><code class="code">Lua_api_lib.newthread</code></a>, <a href="Lua_api_lib.html#VALdefault_gc"><code class="code">Lua_api_lib.default_gc</code></a>, <a href="Lua_api_lib.html#VALmake_gc_function"><code class="code">Lua_api_lib.make_gc_function</code></a>.
<a href="Lua_api_lib.html#VALtolstring"><code class="code">Lua_api_lib.tolstring</code></a></li>
</ul>
<br>
<br>
<h2 id="2_Typesdefinitions">Types definitions</h2><br>

<pre><span id="TYPEstate"><span class="keyword">type</span> <code class="type"></code>state</span> </pre>
<div class="info ">
See <a href="http://www.lua.org/manual/5.1/manual.html#lua_State">lua_State</a>
    documentation.<br>
</div>


<pre><span id="TYPEoCamlFunction"><span class="keyword">type</span> <code class="type"></code>oCamlFunction</span> = <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int</code> </pre>
<div class="info ">
This type corresponds to lua_CFunction. See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_CFunction">lua_CFunction</a>
    documentation.<br>
</div>


<pre><code><span id="TYPEthread_status"><span class="keyword">type</span> <code class="type"></code>thread_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_OK"><span class="constructor">LUA_OK</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_YIELD"><span class="constructor">LUA_YIELD</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_ERRRUN"><span class="constructor">LUA_ERRRUN</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_ERRSYNTAX"><span class="constructor">LUA_ERRSYNTAX</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_ERRMEM"><span class="constructor">LUA_ERRMEM</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_ERRERR"><span class="constructor">LUA_ERRERR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTthread_status.LUA_ERRFILE"><span class="constructor">LUA_ERRFILE</span></span></code></td>

</tr></table>

<div class="info ">
See <a href="http://www.lua.org/manual/5.1/manual.html#pdf-LUA_YIELD">lua_status</a>
    documentation.<br>
</div>


<pre><code><span id="TYPEgc_command"><span class="keyword">type</span> <code class="type"></code>gc_command</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCSTOP"><span class="constructor">GCSTOP</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCRESTART"><span class="constructor">GCRESTART</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCCOLLECT"><span class="constructor">GCCOLLECT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCCOUNT"><span class="constructor">GCCOUNT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCCOUNTB"><span class="constructor">GCCOUNTB</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCSTEP"><span class="constructor">GCSTEP</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCSETPAUSE"><span class="constructor">GCSETPAUSE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgc_command.GCSETSTEPMUL"><span class="constructor">GCSETSTEPMUL</span></span></code></td>

</tr></table>

<div class="info ">
This type is not present in the official API and is used by the function
    <code class="code">gc</code><br>
</div>


<pre><code><span id="TYPElua_type"><span class="keyword">type</span> <code class="type"></code>lua_type</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TNONE"><span class="constructor">LUA_TNONE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TNIL"><span class="constructor">LUA_TNIL</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TBOOLEAN"><span class="constructor">LUA_TBOOLEAN</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TLIGHTUSERDATA"><span class="constructor">LUA_TLIGHTUSERDATA</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TNUMBER"><span class="constructor">LUA_TNUMBER</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TSTRING"><span class="constructor">LUA_TSTRING</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TTABLE"><span class="constructor">LUA_TTABLE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TFUNCTION"><span class="constructor">LUA_TFUNCTION</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TUSERDATA"><span class="constructor">LUA_TUSERDATA</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTlua_type.LUA_TTHREAD"><span class="constructor">LUA_TTHREAD</span></span></code></td>

</tr></table>

<div class="info ">
This type is a collection of the possible types of a Lua value, as defined
    by the macros in lua.h. As a reference, see the documentation of the 
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_type">lua_type function</a>,
    and the corresponding OCaml <a href="Lua_api_lib.html#VALtype_"><code class="code">Lua_api_lib.type_</code></a>.<br>
</div>


<pre><span id="TYPElua_Reader"><span class="keyword">type</span> <code class="type">'a</code> lua_Reader</span> = <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> 'a -> string option</code> </pre>
<div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_Reader">lua_Reader</a>
    documentation.<br>
</div>


<pre><code><span id="TYPEwriter_status"><span class="keyword">type</span> <code class="type"></code>writer_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTwriter_status.NO_WRITING_ERROR"><span class="constructor">NO_WRITING_ERROR</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
No errors, go on writing<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTwriter_status.WRITING_ERROR"><span class="constructor">WRITING_ERROR</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
An error occurred, stop writing<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>



<pre><span id="TYPElua_Writer"><span class="keyword">type</span> <code class="type">'a</code> lua_Writer</span> = <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> 'a -> <a href="Lua_api_lib.html#TYPEwriter_status">writer_status</a></code> </pre>
<div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_Writer">lua_Writer</a>
    documentation.<br>
</div>

<br>
<h2 id="2_Constantvalues">Constant values</h2><br>

<pre><span id="VALmultret"><span class="keyword">val</span> multret</span> : <code class="type">int</code></pre><div class="info ">
Option for multiple returns in `Lua.pcall' and `Lua.call'.
    See <a href="http://www.lua.org/manual/5.1/manual.html#lua_call">lua_call</a>
    documentation.<br>
</div>

<pre><span id="VALregistryindex"><span class="keyword">val</span> registryindex</span> : <code class="type">int</code></pre><div class="info ">
Pseudo-index to access the registry.
    See <a href="http://www.lua.org/manual/5.1/manual.html#3.5">Registry</a> documentation.<br>
</div>

<pre><span id="VALenvironindex"><span class="keyword">val</span> environindex</span> : <code class="type">int</code></pre><div class="info ">
Pseudo-index to access the environment of the running C function.
    See <a href="http://www.lua.org/manual/5.1/manual.html#3.3">Registry</a> documentation.<br>
</div>

<pre><span id="VALglobalsindex"><span class="keyword">val</span> globalsindex</span> : <code class="type">int</code></pre><div class="info ">
Pseudo-index to access the thread environment (where global variables live).
    See <a href="http://www.lua.org/manual/5.1/manual.html#3.3">Registry</a> documentation.<br>
</div>
<br>
<h2 id="2_Exceptions">Exceptions</h2><br>

<pre><span id="EXCEPTIONError"><span class="keyword">exception</span> Error</span> <span class="keyword">of</span> <code class="type"><a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre>

<pre><span id="EXCEPTIONType_error"><span class="keyword">exception</span> Type_error</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<br>
<h2 id="2_FunctionsnotpresentintheLuaAPI">Functions not present in the Lua API</h2><br>

<pre><span id="VALthread_status_of_int"><span class="keyword">val</span> thread_status_of_int</span> : <code class="type">int -> <a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre><div class="info ">
Convert an integer into a <code class="code">thread_status</code>. Raises <code class="code">failure</code> on
    invalid parameter.<br>
</div>

<pre><span id="VALint_of_thread_status"><span class="keyword">val</span> int_of_thread_status</span> : <code class="type"><a href="Lua_api_lib.html#TYPEthread_status">thread_status</a> -> int</code></pre><div class="info ">
Convert a <code class="code">thread_status</code> into an integer.<br>
</div>

<pre><span id="VALlua_type_of_int"><span class="keyword">val</span> lua_type_of_int</span> : <code class="type">int -> <a href="Lua_api_lib.html#TYPElua_type">lua_type</a></code></pre><div class="info ">
Convert an integer into a <code class="code">lua_type</code>. Raises <code class="code">failure</code> on
    invalid parameter.<br>
</div>

<pre><span id="VALint_of_lua_type"><span class="keyword">val</span> int_of_lua_type</span> : <code class="type"><a href="Lua_api_lib.html#TYPElua_type">lua_type</a> -> int</code></pre><div class="info ">
Convert a <code class="code">lua_type</code> into an integer.<br>
</div>
<br>
<h2 id="2_LuaAPIfunctions">Lua API functions</h2><br>

<pre><span id="VALatpanic"><span class="keyword">val</span> atpanic</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a></code></pre><div class="info ">
See <a href="http://www.lua.org/manual/5.1/manual.html#lua_atpanic">lua_atpanic</a>
    documentation.<br>
</div>

<pre><span id="VALcall"><span class="keyword">val</span> call</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> unit</code></pre><div class="info ">
See <a href="http://www.lua.org/manual/5.1/manual.html#lua_call">lua_call</a>
    documentation.<br>
</div>

<pre><span id="VALcheckstack"><span class="keyword">val</span> checkstack</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See <a href="http://www.lua.org/manual/5.1/manual.html#lua_checkstack">lua_checkstack</a>
    documentation.<br>
</div>
<br>
The function
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_close">lua_close</a> is not
    present because all the data structures of a Lua state are managed by the
    OCaml garbage collector.<br>

<pre><span id="VALconcat"><span class="keyword">val</span> concat</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See <a href="http://www.lua.org/manual/5.1/manual.html#lua_concat">lua_concat</a>
    documentation.<br>
</div>

<pre><span id="VALcpcall"><span class="keyword">val</span> cpcall</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -><br>       <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> -> 'a -> <a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_cpcall">lua_cpcall</a>
    documentation.
<p>

    <b>NOTE</b>: this function is <b>not</b> a binding of the original lua_cpcall,
    it's rather an OCaml function with the same semantics.
<p>

    <b>WARNING</b>: the OCaml function you want to execute in a protected
    environment is actually protected againt <b>Lua</b> errors, even memory errors,
    but <b>not</b> against OCaml errors, i.e. exceptions. If for example you run:
    <pre class="codepre"><code class="code">let ls = LuaL.newstate ();;
let my_func ls = failwith "Sorry, my fault..."; 0;;
let cpcall_result = Lua.cpcall ls my_func 42;;
    </code></pre>
    cpcall <b>will actually raise</b> a failure, because that exception is not
    generated by Lua but by OCaml.<br>
</div>

<pre><span id="VALcreatetable"><span class="keyword">val</span> createtable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_createtable">lua_createtable</a>
    documentation.<br>
</div>

<pre><span id="VALdump"><span class="keyword">val</span> dump</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -><br>       'a <a href="Lua_api_lib.html#TYPElua_Writer">lua_Writer</a> -> 'a -> <a href="Lua_api_lib.html#TYPEwriter_status">writer_status</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_dump">lua_dump</a>
    documentation.<br>
</div>

<pre><span id="VALequal"><span class="keyword">val</span> equal</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_equal">lua_equal</a>
    documentation.<br>
</div>

<pre><span id="VALerror"><span class="keyword">val</span> error</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> 'a</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_error">lua_error</a>
    documentation.<br>
</div>

<pre><span id="VALgc"><span class="keyword">val</span> gc</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEgc_command">gc_command</a> -> int -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_gc">lua_gc</a>
    documentation.<br>
</div>
<br>
<a href="http://www.lua.org/manual/5.1/manual.html#lua_getallocf">lua_getallocf</a>
    not implemented in this binding<br>

<pre><span id="VALgetfenv"><span class="keyword">val</span> getfenv</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_getfenv">lua_getfenv</a>
    documentation.<br>
</div>

<pre><span id="VALgetfield"><span class="keyword">val</span> getfield</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_getfield">lua_getfield</a>
    documentation.<br>
</div>

<pre><span id="VALgetglobal"><span class="keyword">val</span> getglobal</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_getglobal">lua_getglobal</a>
    documentation. Like in the original Lua source code this function is
    implemented in OCaml using <code class="code">getfield</code>.<br>
</div>

<pre><span id="VALgetmetatable"><span class="keyword">val</span> getmetatable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_getmetatable">lua_getmetatable</a>
    documentation.<br>
</div>

<pre><span id="VALgettable"><span class="keyword">val</span> gettable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_gettable">lua_gettable</a>
    documentation.<br>
</div>

<pre><span id="VALgettop"><span class="keyword">val</span> gettop</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_gettop">lua_gettop</a>
    documentation.<br>
</div>

<pre><span id="VALinsert"><span class="keyword">val</span> insert</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_insert">lua_insert</a>
    documentation.<br>
</div>

<pre><span id="VALisboolean"><span class="keyword">val</span> isboolean</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isboolean">lua_isboolean</a>
    documentation.<br>
</div>

<pre><span id="VALiscfunction"><span class="keyword">val</span> iscfunction</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_iscfunction">lua_iscfunction</a>
    documentation.<br>
</div>

<pre><span id="VALisfunction"><span class="keyword">val</span> isfunction</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isfunction">lua_isfunction</a>
    documentation.<br>
</div>

<pre><span id="VALislightuserdata"><span class="keyword">val</span> islightuserdata</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_islightuserdata">lua_islightuserdata</a>
    documentation.<br>
</div>

<pre><span id="VALisnil"><span class="keyword">val</span> isnil</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isnil">lua_isnil</a>
    documentation.<br>
</div>

<pre><span id="VALisnone"><span class="keyword">val</span> isnone</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isnone">lua_isnone</a>
    documentation.<br>
</div>

<pre><span id="VALisnoneornil"><span class="keyword">val</span> isnoneornil</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isnoneornil">lua_isnoneornil</a>
    documentation.<br>
</div>

<pre><span id="VALisnumber"><span class="keyword">val</span> isnumber</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isnumber">lua_isnumber</a>
    documentation.<br>
</div>

<pre><span id="VALisstring"><span class="keyword">val</span> isstring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isstring">lua_isstring</a>
    documentation.<br>
</div>

<pre><span id="VAListable"><span class="keyword">val</span> istable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_istable">lua_istable</a>
    documentation.<br>
</div>

<pre><span id="VAListhread"><span class="keyword">val</span> isthread</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isthread">lua_isthread</a>
    documentation.<br>
</div>

<pre><span id="VALisuserdata"><span class="keyword">val</span> isuserdata</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_isuserdata">lua_isuserdata</a>
    documentation.<br>
</div>

<pre><span id="VALlessthan"><span class="keyword">val</span> lessthan</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_lessthan">lua_lessthan</a>
    documentation.<br>
</div>

<pre><span id="VALload"><span class="keyword">val</span> load</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -><br>       'a <a href="Lua_api_lib.html#TYPElua_Reader">lua_Reader</a> -> 'a -> string -> <a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_load">lua_load</a>
    documentation.<br>
</div>
<br>
The function
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_newstate">lua_newstate</a> is
    not present because it makes very little sense to specify a custom allocator
    written in OCaml. To create a new Lua state, use the function
    <a href="Lua_aux_lib.html#VALnewstate"><code class="code">Lua_aux_lib.newstate</code></a>.<br>

<pre><span id="VALnewtable"><span class="keyword">val</span> newtable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_newtable">lua_newtable</a>
    documentation.<br>
</div>

<pre><span id="VALnewthread"><span class="keyword">val</span> newthread</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEstate">state</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_newthread">lua_newthread</a>
    documentation.
<p>

    When you create a new thread, this binding guaranties that the Lua object
    will remain "living" (protected from both the Lua and the OCaml garbage
    collectors) until a valid copy exists in at least one of the two contexts.
<p>

    Remember that all the threads obtained by <code class="code">newthread</code> and
    <a href="Lua_api_lib.html#VALtothread"><code class="code">Lua_api_lib.tothread</code></a> are shared copies, for example:
    <pre class="codepre"><code class="code">let state = LuaL.newstate ();;
let th = Lua.newthread state;;
let th' = match Lua.tothread state 1 with Some s -&gt; s | None -&gt; failwith "not an option!";;
Lua.settop state 0;;
    </code></pre>
    Now the stack of <code class="code">state</code> is empty and you have two threads, <code class="code">th</code> and <code class="code">th'</code>,
    but they are actually the <em>very same data structure</em> and operations performed
    on the first will be visible on the second!
<p>

    Another important issue regarding the scope of a state object representing a
    thread (coroutine): this binding don't prevent you from accessing invalid
    memory in case of misuse of the library. Please, carefully consider this
    fragment:
    <pre class="codepre"><code class="code">let f () =
  let state = LuaL.newstate () in
  let th = Lua.newthread state in
  th;;

let th' = f ();;
Gc.compact ();; (* This will collect [state] inside [f] *)
(* Here something using [th'] *)
    </code></pre>
    After <code class="code">Gc.compact</code> the value inside <code class="code">th'</code> has lost any possible meaning,
    because it's a thread (a coroutine) of a state object that has been already
    collected. Using <code class="code">th'</code> will lead to a <em>segmentation fault</em>, at best, and
    to an <em>undefined behaviour</em> if you are unlucky.<br>
</div>

<pre><span id="VALdefault_gc"><span class="keyword">val</span> default_gc</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int</code></pre><div class="info ">
This is the default "__gc" function attached to any new userdatum created
    with <code class="code">newuserdata</code>. See documentation of <a href="Lua_api_lib.html#VALnewuserdata"><code class="code">Lua_api_lib.newuserdata</code></a> below.<br>
</div>

<pre><span id="VALmake_gc_function"><span class="keyword">val</span> make_gc_function</span> : <code class="type"><a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a></code></pre><div class="info ">
This function takes an <a href="Lua_api_lib.html#TYPEoCamlFunction"><code class="code">Lua_api_lib.oCamlFunction</code></a> you have created to be executed
    as "__gc" metamethod and "decorates" it with some default actions needed
    to deallocate all the memory.
<p>

    If you want to create a "__gc" method for your userdata, you <b>must</b> register
    the value from <code class="code">make_gc_function</code>.<br>
</div>

<pre><span id="VALnewuserdata"><span class="keyword">val</span> newuserdata</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> 'a -> unit</code></pre><div class="info ">
<code class="code">newuserdata</code> is the binding of
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_newuserdata">lua_newuserdata</a>
    but it works in a different way if compared to the original function, and the
    signature is slightly different.
<p>

    In C <code class="code">lua_newuserdata</code> allocates an area for you, returns a <code class="code">void*</code> and you
    cast it as needed. Moreover, it pushes the new userdata on the stack.
<p>

    In OCaml, however, you never allocates a value and so the resulting signature
    provides you a way to push an already created value on the top of the Lua stack.
<p>

    <b>Very important remark, read carefully.</b> The original Lua <code class="code">lua_newuserdata</code>
    doesn't associate to the new userdatum any metatable, it's up to you to define
    a metatable with metamethods, if you need it. On the other hand, this binding
    <b>silently</b> creates a metatable with only one metamethod ("__gc") and associates
    the function <a href="Lua_api_lib.html#VALdefault_gc"><code class="code">Lua_api_lib.default_gc</code></a> defined above. This function takes care of managing
    the memory between the two garbage collectors when needed. This is transparent
    to you, unless you want to attach to the userdatum a metatable of your, which is
    very likely to happen.
<p>

    In case you want to attach a metatable to your userdatum you <b>must</b> include
    the "__gc" metamethod, and you <b>must</b> create the function using
    <a href="Lua_api_lib.html#VALmake_gc_function"><code class="code">Lua_api_lib.make_gc_function</code></a> described above.If you want a metatable for your
    userdatum but you don't need a "__gc", use in any case the <a href="Lua_api_lib.html#VALdefault_gc"><code class="code">Lua_api_lib.default_gc</code></a>.
    <b>Don't create a userdatum with a metatable and without "__gc" or your
    program will leak memory!</b>
<p>

    <b>WARNING</b>: using this function could be harmful because it actually breaks
    the type system. It has the same semantics of <code class="code">Obj.magic</code>, allowing the
    programmer to push an OCaml value into the Lua state, and then retrieve it
    with a different type. Be very careful!<br>
</div>

<pre><span id="VALnext"><span class="keyword">val</span> next</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_next">lua_next</a>
    documentation.<br>
</div>

<pre><span id="VALobjlen"><span class="keyword">val</span> objlen</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_objlen">lua_objlen</a>
    documentation.<br>
</div>

<pre><span id="VALpcall"><span class="keyword">val</span> pcall</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> int -> <a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pcall">lua_pcall</a>
    documentation.<br>
</div>

<pre><span id="VALpop"><span class="keyword">val</span> pop</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pop">lua_pop</a>
    documentation.<br>
</div>

<pre><span id="VALpushboolean"><span class="keyword">val</span> pushboolean</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> bool -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushboolean">lua_pushboolean</a>
    documentation.<br>
</div>
<br>
The function
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushcclosure">lua_pushcclosure</a>
    is not present because it makes very little sense to specify a "closure"
    written in OCaml, using the Lua
    <a href="http://www.lua.org/pil/27.3.3.html">upvalues</a> machinery. Use instead
    <a href="Lua_api_lib.html#VALpushcfunction"><code class="code">Lua_api_lib.pushcfunction</code></a><br>

<pre><span id="VALpushcfunction"><span class="keyword">val</span> pushcfunction</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushcfunction">lua_pushcfunction</a>
    documentation.<br>
</div>

<pre><span id="VALpushocamlfunction"><span class="keyword">val</span> pushocamlfunction</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> -> unit</code></pre><div class="info ">
Alias of <a href="Lua_api_lib.html#VALpushcfunction"><code class="code">Lua_api_lib.pushcfunction</code></a><br>
</div>

<pre><span id="VALpushfstring"><span class="keyword">val</span> pushfstring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> ('a, unit, string, string) Pervasives.format4 -> 'a</code></pre><div class="info ">
Pushes onto the stack a formatted string and returns the string itself.
    It is similar to the standard library function sprintf.
<p>

    Warning: this function has a different behavior with respect to the original
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushfstring">lua_pushfstring</a>
    because the conversion specifiers are not restricted as specified in the Lua
    documentation, but you can use all the conversions of the
    <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html">Printf module</a>.<br>
</div>

<pre><span id="VALpushinteger"><span class="keyword">val</span> pushinteger</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushinteger">lua_pushinteger</a>
    documentation.<br>
</div>

<pre><span id="VALpushlightuserdata"><span class="keyword">val</span> pushlightuserdata</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> 'a -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushlightuserdata">lua_pushlightuserdata</a>
    documentation. Raises <code class="code">Not_a_block_value</code> if you try to push a non-block value
    (e.g. an immediate integer) as a light userdata.
<p>

    In Lua a light userdata is a way to store inside the Lua state a C pointer.
    It's up the programmer to carefully check for the lifetime of the data
    structures passed to Lua via a light userdata. If you malloc a pointer and
    pass it to Lua, then you free it from C and then you retrieve the same pointer
    from Lua (using lua_touserdata), you are most probably shooting yourself
    in the foot.
<p>

    To avoid this class of problems I decided to implement some logic in the binding
    of this function. When you push an OCaml value as a Lua light userdata, a
    global reference to that (OCaml) value is kept inside the Lua state L. So, if
    the original value goes out of scope it is <em>not</em> collected by the garbage
    collector. In this scenario:
    <pre class="codepre"><code class="code">let push_something state =
  let ocaml_value = get_some_complex_value () in
  pushlightuserdata state ocaml_value;
  state
;;
    </code></pre>
    when the <code class="code">push_something</code> function returns the Lua state, the <code class="code">ocaml_value</code>
    is <em>not</em> collected and can be retrieved at a later time from <code class="code">state</code>.
<p>

    This behaviour has a major drawback: while ensuring the lifetime of objects,
    it wastes memory. All the OCaml values pushed as light userdata will in fact
    be collected when the garbage collector decide to collect the Lua state itself.
    This means that if you have a long running task (e.g. a server) with a Lua
    state and you use <code class="code">pushlightuserdata</code>, the values pushed will be <em>never</em>
    collected!
<p>

    Moreover, if you push a value that have some resources associated with it
    (e.g. a channel, a socket or a DB handler) the resources will be released
    only when the Lua state goes out of scope.<br>
</div>

<pre><span id="VALpushliteral"><span class="keyword">val</span> pushliteral</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushliteral">lua_pushliteral</a>
    documentation.<br>
</div>

<pre><span id="VALpushlstring"><span class="keyword">val</span> pushlstring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushlstring">lua_pushlstring</a>
    documentation.<br>
</div>

<pre><span id="VALpushnil"><span class="keyword">val</span> pushnil</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushnil">lua_pushnil</a>
    documentation.<br>
</div>

<pre><span id="VALpushnumber"><span class="keyword">val</span> pushnumber</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> float -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushnumber">lua_pushnumber</a>
    documentation.<br>
</div>

<pre><span id="VALpushstring"><span class="keyword">val</span> pushstring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushstring">lua_pushstring</a>
    documentation.<br>
</div>

<pre><span id="VALpushthread"><span class="keyword">val</span> pushthread</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushthread">lua_pushthread</a>
    documentation.<br>
</div>

<pre><span id="VALpushvalue"><span class="keyword">val</span> pushvalue</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_pushvalue">lua_pushvalue</a>
    documentation.<br>
</div>

<pre><span id="VALpushvfstring"><span class="keyword">val</span> pushvfstring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> ('a, unit, string, string) Pervasives.format4 -> 'a</code></pre><div class="info ">
Alias of <a href="Lua_api_lib.html#VALpushfstring"><code class="code">Lua_api_lib.pushfstring</code></a><br>
</div>

<pre><span id="VALrawequal"><span class="keyword">val</span> rawequal</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_rawequal">lua_rawequal</a>
    documentation.<br>
</div>

<pre><span id="VALrawget"><span class="keyword">val</span> rawget</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_rawget">lua_rawget</a>
    documentation.<br>
</div>

<pre><span id="VALrawgeti"><span class="keyword">val</span> rawgeti</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_rawgeti">lua_rawgeti</a>
    documentation.<br>
</div>

<pre><span id="VALrawset"><span class="keyword">val</span> rawset</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_rawset">lua_rawset</a>
    documentation.<br>
</div>

<pre><span id="VALrawseti"><span class="keyword">val</span> rawseti</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_rawseti">lua_rawseti</a>
    documentation.<br>
</div>

<pre><span id="VALregister"><span class="keyword">val</span> register</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_register">lua_register</a>
    documentation. The function is implemented in OCaml using pushcfunction
    and setglobal.<br>
</div>

<pre><span id="VALremove"><span class="keyword">val</span> remove</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_remove">lua_remove</a>
    documentation.<br>
</div>

<pre><span id="VALreplace"><span class="keyword">val</span> replace</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_replace">lua_replace</a>
    documentation.<br>
</div>

<pre><span id="VALresume"><span class="keyword">val</span> resume</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> <a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_resume">lua_resume</a>
    documentation.<br>
</div>
<br>
<a href="http://www.lua.org/manual/5.1/manual.html#lua_setallocf">lua_setallocf</a>
    not implemented in this binding<br>

<pre><span id="VALsetfenv"><span class="keyword">val</span> setfenv</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_setfenv">lua_setfenv</a>
    documentation.<br>
</div>

<pre><span id="VALsetfield"><span class="keyword">val</span> setfield</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_setfield">lua_setfield</a>
    documentation.<br>
</div>

<pre><span id="VALsetglobal"><span class="keyword">val</span> setglobal</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> string -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_setglobal">lua_setglobal</a>
    documentation.<br>
</div>

<pre><span id="VALsetmetatable"><span class="keyword">val</span> setmetatable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_setmetatable">lua_setmetatable</a>
    documentation.<br>
</div>

<pre><span id="VALsettable"><span class="keyword">val</span> settable</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_settable">lua_settable</a>
    documentation.<br>
</div>

<pre><span id="VALsettop"><span class="keyword">val</span> settop</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_settop">lua_settop</a>
    documentation.<br>
</div>

<pre><span id="VALstatus"><span class="keyword">val</span> status</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEthread_status">thread_status</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_status">lua_status</a>
    documentation.<br>
</div>

<pre><span id="VALtoboolean"><span class="keyword">val</span> toboolean</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> bool</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_toboolean">lua_toboolean</a>
    documentation.<br>
</div>

<pre><span id="VALtocfunction"><span class="keyword">val</span> tocfunction</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> option</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_tocfunction">lua_tocfunction</a>
    documentation.<br>
</div>

<pre><span id="VALtoocamlfunction"><span class="keyword">val</span> toocamlfunction</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> <a href="Lua_api_lib.html#TYPEoCamlFunction">oCamlFunction</a> option</code></pre><div class="info ">
Alias of <a href="Lua_api_lib.html#VALtocfunction"><code class="code">Lua_api_lib.tocfunction</code></a><br>
</div>

<pre><span id="VALtointeger"><span class="keyword">val</span> tointeger</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_tointeger">lua_tointeger</a>
    documentation.<br>
</div>

<pre><span id="VALtolstring"><span class="keyword">val</span> tolstring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> string option</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_tolstring">lua_tolstring</a>
    documentation.
<p>

    <b>NOTE</b>: The original <code class="code">len</code> argument is missing because, unlike in C,
    there is no impedance mismatch between OCaml and Lua strings<br>
</div>

<pre><span id="VALtonumber"><span class="keyword">val</span> tonumber</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> float</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_tonumber">lua_tonumber</a>
    documentation.<br>
</div>
<br>
The function
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_topointer">lua_topointer</a>
    is not available<br>

<pre><span id="VALtostring"><span class="keyword">val</span> tostring</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> string option</code></pre><div class="info ">
Alias of <a href="Lua_api_lib.html#VALtolstring"><code class="code">Lua_api_lib.tolstring</code></a><br>
</div>

<pre><span id="VALtothread"><span class="keyword">val</span> tothread</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> <a href="Lua_api_lib.html#TYPEstate">state</a> option</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_tothread">lua_tothread</a>
    documentation.<br>
</div>

<pre><span id="VALtouserdata"><span class="keyword">val</span> touserdata</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -><br>       int -> [> `Light_userdata of 'a | `Userdata of 'a ] option</code></pre><div class="info ">
If the value at the given acceptable index is a full userdata, returns its
    value as <code class="code">Some `Userdata v</code>. If the value is a light userdata, returns its
    value as <code class="code">Some `Light_userdata v</code>.
    Otherwise, returns <code class="code">None</code>.
<p>

    <b>WARNING</b>: using this function could be harmful because it actually breaks
    the type system. It has the same semantics of <code class="code">Obj.magic</code>, allowing the
    programmer to push an OCaml value into the Lua state, and then retrieve it
    with a different type. Be very careful!<br>
</div>

<pre><span id="VALtype_"><span class="keyword">val</span> type_</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> <a href="Lua_api_lib.html#TYPElua_type">lua_type</a></code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_type">lua_type</a>
    documentation.<br>
</div>

<pre><span id="VALtypename"><span class="keyword">val</span> typename</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPElua_type">lua_type</a> -> string</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_typename">lua_typename</a>
    documentation.<br>
</div>

<pre><span id="VALxmove"><span class="keyword">val</span> xmove</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> <a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> unit</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_xmove">lua_xmove</a>
    documentation.<br>
</div>

<pre><span id="VALyield"><span class="keyword">val</span> yield</span> : <code class="type"><a href="Lua_api_lib.html#TYPEstate">state</a> -> int -> int</code></pre><div class="info ">
See
    <a href="http://www.lua.org/manual/5.1/manual.html#lua_yield">lua_yield</a>
    documentation.<br>
</div>
</body></html>